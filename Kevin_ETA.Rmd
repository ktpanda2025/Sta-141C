---
title: "Testing_song_ETA_Kevin"
author: "Kevin"
date: "2024-02-10"
output: html_document
---

```{r}
library(plotly)
library(tidyverse)
```

```{r}
Spotify_song_attributes <- read.csv("Spotify_audio_features.csv")
colnames(Spotify_song_attributes)
#can join on uri
```

```{r}
Spotify_data <- read.csv("New_Spspotify_chart_song_ranks.csv")
Spotify_charts = Spotify_data %>% 
  mutate(artist_names = str_trim(artist_names), WeekDate = as.Date(WeekDate)) 
```

```{r}
colnames(Spotify_charts)
```
```{r}
number_of_weeks_total_of_all_songs_charts = Spotify_charts %>% 
  group_by(artist_names) %>% 
  summarize(total = n())  
hist(x =number_of_weeks_total_of_all_songs_charts$total, main = "Number of weeks totla of all songs combined artsit has been on the charts")

number_of_weeks_total = Spotify_charts %>% 
  group_by(artist_names) %>% 
  summarize(total = n()) %>% 
  filter(total >300)


hist(x =number_of_weeks_total$total, main = "Number of weeks totla of all songs combined artsit has been on the charts,slightly cut down to see rest of rankings")
```



## Looking at indivisual artist 
```{r}
artist_trim_data = Spotify_charts %>%
  filter(artist_names == "Fuerza Regida")
```

```{r}
aa <- ggplot(data = artist_trim_data,aes(x= WeekDate ,y =streams,color = track_name)) + geom_line() +theme(legend.position = "none")
ggplotly(aa)
```


```{r}
combined_df = unique(merge(x= artist_trim_data ,y = Spotify_song_attributes,by.x = "uri",by.y = "uri") ,)

  
```

